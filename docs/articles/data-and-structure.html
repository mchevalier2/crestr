<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>The crestr package: data and structure • crestr</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="The crestr package: data and structure">
<meta property="og:description" content="crestr">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">crestr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/theory.html">A bit of theory</a>
</li>
<li>
  <a href="../articles/get-started.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Functions and Data</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/data-and-structure.html">Data &amp; Structure of crestr</a>
    </li>
    <li>
      <a href="../articles/get-started.html">Get started</a>
    </li>
    <li>
      <a href="../articles/limpopo.html">MD96-2048 Reconstruction</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://twitter.com/ChevalierManu">
    <span class="fab fa-twitter fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/mchevalier2/crestr/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="data-and-structure_files/header-attrs-2.7/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>The crestr package: data and structure</h1>
                        <h4 class="author">Manuel Chevalier</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/mchevalier2/crestr/blob/master/vignettes/data-and-structure.Rmd"><code>vignettes/data-and-structure.Rmd</code></a></small>
      <div class="hidden name"><code>data-and-structure.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/mchevalier2/crestr">crestr</a></span><span class="op">)</span></code></pre></div>
<blockquote>
<p><strong><em>NOTE:</em></strong> This vignette is still under development.</p>
</blockquote>
<div id="philosophy-of-the-package" class="section level1">
<h1 class="hasAnchor">
<a href="#philosophy-of-the-package" class="anchor"></a>Philosophy of the package</h1>
<p>The <code>crestr</code> package has been designed for two independent but complementary modelling purposes. The probabilitic proxy-climate responses can be used to quantivatively reconstruct climate from their statistical combination, such as in <span class="citation">@Chevalier2021Limpopo</span> or <span class="citation">@CC15</span>, or, alternatively, they can be used in a more quantitative way to determine the (relative) climate sensitivities of different taxa in a given area to characterise past ecological changes, such as in <span class="citation">@Chevalier2021Atlas</span> or <span class="citation">@Quick2021</span>. The difficulty of running a CREST analysis lies in the definition of the study-specific parameters of the algorithm, which can make the learning curve a bit steep at the beginning. However, default values are provided for all parameters to enable an easy and rapid generation of preliminary results that users can then use as a reasonable first estimate to start adapting the model to their data. To guide users in this task and avoid the common ‘black box’ criticism faced by many complex statistical tools, a large array of publication-ready, graphical diagnostic tools was designed to automatically represent CREST data in a standardised way. These tools include plots of the calibration data, the estimated climate responses, the reconstructions and many more. They can be used to look at the data from different perspectives to help understanding why the results are what they are and possibly help identifying potential issues or biases in the selected data and/or parameters. Such diagnostic tools are available for every step of the process and, as examplified in section , they can be generated with a single line of R code.</p>
<p><br></p>
<div class="figure" style="text-align: center">
<img src="https://raw.githubusercontent.com/mchevalier2/crestr/master/docs/articles/theory_files/figure-html/crest-01.png" alt="**Fig. 1**: (left) Climate variable to reconstruct (*e.g.* mean annual temperature). (Right) Four distinct plant taxa living in that region and having a preference for the darker climates (*e.g.* a preference for colder climates). These four species produce undistinguisable pollen grains and, therefore, define a 'pollen type'. This example is based on pseudo-data." width="80%" style="background:none; border:none; box-shadow:none;"><p class="caption">
<strong>Fig. 1</strong>: (left) Climate variable to reconstruct (<em>e.g.</em> mean annual temperature). (Right) Four distinct plant taxa living in that region and having a preference for the darker climates (<em>e.g.</em> a preference for colder climates). These four species produce undistinguisable pollen grains and, therefore, define a ‘pollen type’. This example is based on pseudo-data.
</p>
</div>
</div>
<div id="the-central-element-the-crestobj-object" class="section level1">
<h1 class="hasAnchor">
<a href="#the-central-element-the-crestobj-object" class="anchor"></a>The central element: the <code>crestObj</code> object</h1>
<div class="figure">
<img src="../../../../Manuscripts/Chevalier-crestr/figs/fig-crestrobj_v1.png" alt="Structure of a crestObj, here called 'rcnstrctn', with the five main sub-lists in colour. For simplicity, lists with many elements ('tax' or 'clim') are represented with double framed boxes. The unframed terminal nodes on the right-hand side of each branch are simple R objects, such as numbers, strings, vectors or data frames. The names of the functions that modify these obsjects are indicated on the right." width="1033"><p class="caption">
Structure of a crestObj, here called ‘rcnstrctn’, with the five main sub-lists in colour. For simplicity, lists with many elements (‘tax’ or ‘clim’) are represented with double framed boxes. The unframed terminal nodes on the right-hand side of each branch are simple R objects, such as numbers, strings, vectors or data frames. The names of the functions that modify these obsjects are indicated on the right.
</p>
</div>
<div class="figure">
<img src="https://raw.githubusercontent.com/mchevalier2/crestr/master/docs/articles/theory_files/figure-html/crest-01.png" alt=""><p class="caption">Structure of a crestObj, here called ‘rcnstrctn’, with the five main sub-lists in colour. For simplicity, lists with many elements (‘tax’ or ‘clim’) are represented with double framed boxes. The unframed terminal nodes on the right-hand side of each branch are simple R objects, such as numbers, strings, vectors or data frames. The names of the functions that modify these obsjects are indicated on the right.</p>
</div>
<p>In <code>crestr</code>, all the CREST-related data are stored within a single S3 object of the class <code>crestObj</code>. Most functions of the package will take a <code>crestObj</code> as their main input and will return an updated version of the object. In practice, a <code>crestObj</code> is a nested list that contains five sub-lists, each one grouping a specific type of information, such as the calibration data, the fitted climate responses and the reconstructions (see Fig. ). Wrapper functions have been implemented to manipulate and/or modify the information contained in a <code>crestObj</code> so that, users are never expected to manually modify their <code>crestObj</code> — even if it is possible. The five sub-lists contain the following information:</p>
<ul>
<li><p><code>inputs</code>: contains the raw data (<em>e.g.</em> the counts/percentages, the ages of the samples or the names of the fossil taxa).</p></li>
<li><p><code>parameters</code>: contains the parameters provided at the different stages of the analysis (<em>e.g.</em> the data extraction or the fitting and combination of the PDFs)</p></li>
<li><p><code>modelling</code>: contains all the data related to the modelling part (<em>e.g.</em> the distribution data for calibration, the background climate space or the PDFs).</p></li>
<li><p><code>reconstructions</code>: contains all the results of the reconstruction (<em>e.g.</em> best estimates, synthetic error measurements as well as the full posterior distribution of the uncertainties).</p></li>
<li><p><code>misc</code>: contains some additional metadata relative to the reconstruction (<em>e.g.</em> the site location or, most importantly, information relative to the proxy-species equivalency described in section ).</p></li>
</ul>
</div>
<div id="sec:package:inputs" class="section level1">
<h1 class="hasAnchor">
<a href="#sec:package:inputs" class="anchor"></a>Input data for <code>crestr</code>
</h1>
<p>Four different input data files are compatible with <code>crestr</code>. However, only one up to three of these inputs may be required for any application depending on the modelling objectives and assumptions. These files can be prepared outside the R environment and imported using standard R functions.</p>
<div id="sec:inputs:df" class="section level2">
<h2 class="hasAnchor">
<a href="#sec:inputs:df" class="anchor"></a>The fossil data (<code>df</code>)</h2>
<p>The <code>df</code> data frame is only required if <code>crestr</code> is used for reconstucting climate and can be omitted if the objective is to model the climate response(s) of different taxa. <code>df</code> should be a data frame with the different samples entered as rows, with either the age, depth or sample ID as first column and the fossil data in the subsequent columns. <code>df</code> can countain raw counts, percentages, presence/absence (1s and 0s) or even relative weights to be used in the reconstruction. In the case study presented below for example (see section ), 215 terrestrial and aquatic pollen taxa were observed in 181 samples, so that <code>df</code> is a data frame with 216 columns (the age of the samples followed by the pollen taxa) and 181 rows containing pollen percentages of terrestrial taxa.</p>
</div>
<div id="sec:inputs:pse" class="section level2">
<h2 class="hasAnchor">
<a href="#sec:inputs:pse" class="anchor"></a>The proxy-species equivalency (<code>PSE</code>) table</h2>
<p>The <code>PSE</code> data frame is required to use the <em>gbif4crest</em> calibration dataset. It is used to associate fossil taxon names to the species distributions of various species stored in the <code>TAXA</code> and <code>DISTRIB_QDGC</code> tables (Fig. ). When all the fossil taxa are identified at the species level, the <code>PSE</code> table should be a simple data frame with one row per taxon. In most cases, however, fossil taxa are identified at a higher taxonomic level (sub-genus, genus, sub-family, family) and these varying levels of identification should be encoded in the <code>PSE</code> file to link one or more (groups of) species to their common fossil taxon name.</p>
<p>A <code>PSE</code> file is composed of five columns (see Table ). The first one (<em>Level</em>) contains an integer that indicates the level of taxonomic resolution of the row (1 for Family, 2 for Genus, 3 for Species and 4 for taxa that should be excluded from the reconstruction, <em>e.g.</em> ‘Triletes spores’ in the example case study below). The fifth column ‘ProxyName’ contains the name of the taxon and columns two to four contain the taxonomic classification of that taxon as ‘Family’, ‘Genus’ and ‘Species’, respectively. For simplicity, a pre-formatted version of the <code>PSE</code> table with the names of all the taxa to study can be generated by <code>crestr</code> using the <code><a href="../reference/createPSE.html">createPSE(list_of_taxa)</a></code> function that generates a spreadsheet with the correct structure and with the Level and ProxyName columns automatically filled in.</p>
<p>When performing the classification with the <code><a href="../reference/crest.get_modern_data.html">crest.get_modern_data()</a></code> function, <code>crestr</code> first classifies the taxa with the lowest taxonomical resolution (<em>i.e.</em> when <em>Level</em> is equal to one), and then increases the resolution <em>Level</em> by <em>Level</em>. In the example represented on Table , different taxonomic resolution levels are provided for different plant species belonging to the highly diverse Asteraceae family (the daisy family). To distribute all the Asteraceae species observed across the study area to their appropriate category, all the species are first classified as ‘Asteraceae undiff.’. In a second time, the classification of some of these Asteraceae species is refined when reaching the better resolved sub-groups (<em>Stoebe</em>-type and <em>Artemisia</em> at <em>Level</em> 2). At the end of the process, the ‘Asteraceae undiff.’ group only contains Asteraceae species that live in the study area but are not part of the genuses <em>Stoebe</em>, <em>Elytropappus</em> or <em>Artemisia</em>. The latter are categorised separately as <em>Stoebe</em>-type or <em>Artemisia</em>. Additional names can also be included to the <code>PSE</code> file to exclude species that are known to not be part of a group. For instance, this could have been used to simplify the climate response of the ‘Asteraceae undiff.’ group by excluding more species from it. This categorisation process can be time-consuming, as all the taxa must be classified in the same <code>PSE</code> table, and will often require many iterations to be optimised. The results of the different assignments are stored in the <code>crestObj</code> returned by the <code><a href="../reference/crest.get_modern_data.html">crest.get_modern_data()</a></code> function and can be evaluated by checking <code>rcnstrctn$misc$taxa_notes</code>.</p>
</div>
<div id="sec:inputs:distributions" class="section level2">
<h2 class="hasAnchor">
<a href="#sec:inputs:distributions" class="anchor"></a>The alternative modern calibration dataset (<code>distributions</code>)</h2>
<p>Users that prefer fitting proxy-climate relationships from their own calibration data should prepare a <code>distributions</code> dataset following the specific structure presented in Table . The first two columns should contain the species names (or unique identifiers) and the corresponding proxy name. If more than one species correspond to one taxon, the PDFs will be fitted in two steps, as explained in section . The following two columns contain the coordinates of the species occurrence data. Finally, the last columns contain the climate values to be reconstructed. An optional column called <code>weight</code> can be added to <code>distributions</code> in fifth position (<em>i.e.</em> between the coordinates and the climate variables) if one wants to weight the different observations. For example, the (relative) abundance of taxa observed from modern data can be used when fitting the PDFs to give more importance to the observations where that abundance is highest.</p>
</div>
<div id="sec:inputs:selectedTaxa" class="section level2">
<h2 class="hasAnchor">
<a href="#sec:inputs:selectedTaxa" class="anchor"></a>The <code>selectedTaxa</code> data frame</h2>
<p>The last data frame that can be used to inform the reconstruction is a data frame of ones and zeros called <code>selectedTaxa</code>. This data frame has as many rows and columns as there are taxa and climate variables, respectively. Each entry should be either 1 or 0 and is used to indicate if the taxon should be used to reconstruct the climate variable (value = 1) or not (value = 0). If it is not provided, a default <code>selectedTaxa</code> data frame with all entries set to 1 is added to the <code>crestObj</code>. Users can modify this information at any point using the <code><a href="../reference/includeTaxa.html">includeTaxa()</a></code> and <code><a href="../reference/excludeTaxa.html">excludeTaxa()</a></code> built-in functions. The <code><a href="../reference/crest.get_modern_data.html">crest.get_modern_data()</a></code> function also modifies this data frame by setting the value to -1 when the <code>PSE</code> classification failed for a taxon or when the amount of data in the study area is insufficient to fit a reliable PDF (see the parameters description in section ).</p>
</div>
</div>
<div id="sec:method:calibration" class="section level1">
<h1 class="hasAnchor">
<a href="#sec:method:calibration" class="anchor"></a>CREST calibration dataset</h1>
<div class="figure">
<img src="../../../../Manuscripts/Chevalier-crestr/figs/fig-gbif_v1.png" alt="Data density of the six climate proxies available in the gbif4crest calibration database. The total number of unique species occurrences (N) is indicated for each proxy. The maps are based on the ‘Equal Earth’ map projection to better account for the relative sizes of the different continents." width="17.5cm"><p class="caption">
Data density of the six climate proxies available in the gbif4crest calibration database. The total number of unique species occurrences (N) is indicated for each proxy. The maps are based on the ‘Equal Earth’ map projection to better account for the relative sizes of the different continents.
</p>
</div>
<div class="figure">
<img src="../../../../Manuscripts/Chevalier-crestr/figs/fig-gbiftables_v1.png" alt="Structure of the gbif4crest PostgreSQL database. By default, the package extracts data from the TAXA, DISTRIB-QDGC and DATA-QDGC tables. The DISTRIB table contains the raw occurrence data and can be used to process the data at a different spatial resolution for example." width="17.5cm"><p class="caption">
Structure of the gbif4crest PostgreSQL database. By default, the package extracts data from the TAXA, DISTRIB-QDGC and DATA-QDGC tables. The DISTRIB table contains the raw occurrence data and can be used to process the data at a different spatial resolution for example.
</p>
</div>
<p>A multiproxy calibration dataset to estimate PDFs from a global collection of geolocalised presence-only data (hereafter proxy distributions) was first presented in <span class="citation">@Chevalier2019</span>. These data were obtained from the Global Biodiversity Information Facility (GBIF) database, an online collection of geolocalised observations of biological entities <span class="citation">[@GBIFwebsite]</span>. The calibration dataset <span class="citation">[hereafter _gbif4crest_, @Chevalier2018GBIF]</span> contains the species distributions of six common palaeoecological fossil: the five taxa presented in the original version of the dataset — plants <span class="citation">[@gbif_lycopodiopsida20, @gbif_antheceropsida20, @gbif_liliopsida20, @gbif_Cycadopsida20, @gbif_Magnoliopsida20, @gbif_pinopsida20, @gbif_gingkoopsida20, @gbif_polypodiopsida20, @gbif_gnetopsida20, @gbif_bryophyta21, @gbif_marchantiophyta21]</span> for fossil pollen and macrofossils, chironomids <span class="citation">[@GBIF_chironomids20]</span>, beetles <span class="citation">[@GBIF_beetles20]</span>, diatoms <span class="citation">[@GBIF_diatoms20]</span> and foraminifera <span class="citation">[@GBIF_forams20]</span> – to which rodents <span class="citation">[@GBIF_rodents20]</span> were recently added (Fig. ). All these data were curated in a relational database to ensure the consistency of the data.</p>
<p>The coordinates of all the presence records of these six common palaeoecological fossil proxies were upscaled at a spatial resolution of <span class="math inline">\(0.25 \times 0.25^\circ\)</span> (hereafter QDGC for Quarter-Degree Grid Cell) and subsequently associated with terrestrial and oceanic environmental variables at the same resolution <span class="citation">[@Fick_Hijmans_2017, @Zomer2008, @WOA_2018_temp, @WOA_2018_salinity, @WOA_2018_oxy, @WOA_2018_nutrients, @Reynolds2007, see details in Tables \ref{table:variables-terr} and \ref{table:variables-mari}]</span>. The QDGC spatial resolution is an empirical trade-off between numerous factors, including the resolution of the presence data, the quality of the data or the spatial representatitivity of the studied proxy (see discussions in <span class="citation">@Chevalier_etal_2014</span> and <span class="citation">@Chevalier2019</span>). However, this tradeoff may be suboptimal in some situations and for that reason <code>crestr</code> can also be used with the raw GBIF data and even alternative calibration datasets.</p>
<p>In its current version (V2), the <em>gbif4crest</em> calibration dataset contains about 25.3 millions unique presence data for the six proxies. Unfortunately, the density of data available varies strongly between proxies and regions (Fig. ). Plant data dominate the calibration dataset (&gt;22 million unique occurrences) and allow for a use of <code>crestr</code> across all landmasses where vegetation currently grows. For the five other proxies, the datasets are still incomplete in many regions, which restricts the use of <code>crestr</code> (<em>e.g.</em> chironomids). However, these datasets are regularly updated by GBIF and while the first version of the <em>gbif4crest</em> dataset released in 2018 contained about 17.5 million QDGC entries, the new version presented here contains about 25.3 million entries (~44% increase). The range of ‘reconstructible’ areas is thus rapidly broadening (see for instance the coverage of Russia by plant data compared to the first version of the <em>gbif4crest</em> dataset presented in <span class="citation">@Chevalier2019</span>).</p>
<p>The <em>gbif4crest</em> database is composed of three main types of data: taxonomic data (<code>TAXA</code> table on Fig. ), distribution data (<code>DISTRIB</code> and <code>DISTRIB_QDGC</code> tables) and diverse geopolitical, climatological and environmental data (<code>DATA_QDGC</code> table). Its structure is slightly different compared to the first version presented in <span class="citation">@Chevalier2019</span> with a grouping of all the distinct QDGC tables in a unique <code>DATA_QDGC</code> table to enable a faster extraction of the data. Additional environmental and geographical discriptors were also added to characterise each grid cell and enable a more refined data selection. These include elevation and elevation variability <span class="citation">@ETOPO</span>, the country (<a href="https://www.naturalearthdata.com" class="uri">https://www.naturalearthdata.com</a>) or ocean (<a href="https://www.marineregions.org" class="uri">https://www.marineregions.org</a>) names, as well as different levels of ecological classification for the terrestrial <span class="citation">@olson2001</span> and marine <span class="citation">@Costello2017</span> realms. The first and last date of observation are also now included, along with the type of observation, as reported by GBIF (see <code>DISTRIB_QDGC</code> table on Fig. ). Finally, the <code>DATA</code> table was entirely recalculated using a new protocol that better accounts for coastal margins so that climate values at some locations are expected to be slighty different from the first version of the <em>gbif4crest</em> dataset.</p>
<p>Due to its large size (about 15 Gb), this database is not downloaded when installing the package, but it can be assessed in different ways. First, the data are stored in an open-access, cloud-based PostgreSQL database that can be dynamically accessed via <code>crestr</code>. This is the recommanded option, as users without any <em>a priori</em> SQL knowledge can benefit from the package’s interface to automatically query the database simply by providing study-specific parameters, such as the name of the taxa or boundaries for the study area, to import all the necessary data in the correct format to the R environment (see section ). Second, advanced users can also directly query the database to extract and curate data from the <code>DISTRIB</code> or <code>DISTRIB_QDGC</code> tables using the <code><a href="../reference/dbRequest.html">dbRequest()</a></code> function, and subsequently associate these data with climate variables. Finally, the complete <em>gbif4crest</em> calibration dataset can also be downloaded as a SQLite3 portable database file from <span class="citation">@Chevalier2018GBIF</span>.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Manuel Chevalier.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
